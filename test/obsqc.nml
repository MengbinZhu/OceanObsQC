!===============================================================================
! Overall program configuration
!===============================================================================

&obsqc_nml
  obs_reader_type="WOD"  ! options are: BUFR, WOD
  obs_writer_type="NC"    ! options are: NC
  !qcsteps="qc_bounds qc_duplicate qc_depths qc_global qc_density"
  qcsteps="qc_duplicate qc_depths qc_bounds qc_clim qc_density"

  ! only keep profiles between these dates (YYYYMMDD)
  ! if commented out, all dates are kept
!  read_start_date = 20070710
!  read_end_date   = 20070711
/



!===============================================================================
! Obs reader / writer configuration
!===============================================================================

&obs_reader_wod
 use_bad_qc_pfl=F
 use_bad_qc_lvl=F
/


&obs_reader_bufr
/


!===============================================================================
! QC step configurations
!===============================================================================

&qc_depths
  ! Check for proper monotonically increasing depths, with sufficient levels.
  ! A profile is removed if any of the following checks fail.

  check_nonmono=T   ! check to ensure depth values increase monotonically

  ! NOTE: setting any of the following to negative will disable that
  !  individual test

  min_levels=3      ! minimum number of vertical levels required
  max_depth=6000.0  ! maximum depth allowed (meters)
  max_start=36.0    ! first level must be above this depth (meters)
  max_gap=500.0     ! no vertical gaps larger than this allowed (meters)
/


&qc_bounds
  remove_zero_latlon = T
  t_max = 33.0
  t_min = -2.0
  s_max = 43.0
  s_min = 0.1
/


&qc_clim

 clim_searchdist = 150.0e3
 cobs_gros_sdv_T = 5.0
 cobs_gros_min_T = 3.0
 cobs_gros_max_T = 20.0
 cobs_gros_sdv_S = 5.0
 cobs_gros_min_S = 2.0
 cobs_gros_max_S = 7.0
 cobs_TS_file="WOA18_TS.nc"
 cobs_lon_var="lon"
 cobs_lat_var="lat"
 cobs_dep_var="depth"
 cobs_temp_var="temp"
 cobs_salt_var="salt"
 cobs_toff_var="tsdv"
 cobs_soff_var="ssdv"
/


&qc_profile
 ! check for vertical structures

 prf_trlatN=60.0
 prf_trlatS=-60.0
 prf_trTmin=0.05
 prf_trSmin=0.005
 prf_T1spmax=0.5
 prf_S1spmax=0.1
 prf_Tbspmax=0.5
 prf_Sbspmax=0.1
 prf_Trsmx=1.75
 prf_Srsmx=1.75
/

&qc_density
  ! If a profile has both salinity and temperature, check to make sure that
  ! there is not a density inversion in subsequent levels
  dens_inv_tol = 0.1 ! tolerance when detecting density inversions (kg/m^3)
/
